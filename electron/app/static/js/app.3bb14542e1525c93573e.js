webpackJsonp([1],{"+G/c":function(t,e,i){t.exports=i.p+"static/img/background-splash-medium-2.2b2052a.jpg"},0:function(t,e){},"1Sz1":function(t,e,i){t.exports=i.p+"static/img/background-splash-7.95af7e8.jpg"},"1dI8":function(t,e,i){t.exports=i.p+"static/img/background-splash-medium-5.2e8bf2f.jpg"},"3S+8":function(t,e){},4347:function(t,e){},"4eST":function(t,e){},"61sc":function(t,e,i){t.exports=i.p+"static/img/background-splash-medium-4.8e24c3e.jpg"},"6DcS":function(t,e,i){t.exports=i.p+"static/img/background-splash-medium-3.e253806.jpg"},"6gUe":function(t,e,i){t.exports=i.p+"static/img/background-splash-3.533cd0c.jpg"},AqrE:function(t,e){},AvBI:function(t,e,i){var s={"./background-splash-1.jpg":"yMF7","./background-splash-2.jpg":"hKQ/","./background-splash-3.jpg":"6gUe","./background-splash-4.jpg":"p6U+","./background-splash-5.jpg":"H5fb","./background-splash-6.jpg":"KM16","./background-splash-7.jpg":"1Sz1"};function n(t){return i(o(t))}function o(t){var e=s[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}n.keys=function(){return Object.keys(s)},n.resolve=o,t.exports=n,n.id="AvBI"},GQjx:function(t,e){},H5fb:function(t,e,i){t.exports=i.p+"static/img/background-splash-5.848553d.jpg"},KM16:function(t,e,i){t.exports=i.p+"static/img/background-splash-6.4d294e7.jpg"},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("7+uW"),n=i("Dd8w"),o=i.n(n),r=i("NYxO"),a={name:"footer-layout",data:function(){return{whatYearAreWe:null}},created:function(){var t=Date.now();this.whatYearAreWe=new Date(t).getFullYear()}},c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container"},[this._m(0),this._v(" "),e("span",{staticClass:"flexiflex"},[this._v("Flexiflex")]),this._v(" "),e("div",{staticClass:"year positionCenter"},[this._v(" "+this._s(this.whatYearAreWe)+" ")])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"copyright"},[e("i",{staticClass:"far fa-copyright"})])}]};var u=i("VU/8")(a,c,!1,function(t){i("3S+8")},"data-v-2101c481",null).exports,l={name:"connection-layout",components:{FooterLayout:u}},d={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"flexiflex-logo"},[this._v("Flexiflex")]),this._v(" "),e("div",{staticClass:"body-content"},[e("div",{staticClass:"global-layout-container body-background"},[e("router-view")],1),this._v(" "),e("footer-layout")],1)])},staticRenderFns:[]};var p=i("VU/8")(l,d,!1,function(t){i("c6iF")},"data-v-7bb663ad",null).exports,m={name:"App",data:function(){return{backgroundRandom:"../src/assets/homepage/background-splash-1.jpg",num:null,windowWidth:0,txt:"",imageNumber:1,styleObject:{position:"fixed",content:"",backgroundImage:null,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover",backgroundColor:"black",opacity:.8,zIndex:-2,width:"100vw",height:"100vh"}}},created:function(){this.setTokenFromCookie(),this.imageNumber=Math.ceil(7*Math.random()),window.innerWidth<=812?this.styleObject.backgroundImage="url("+i("WRcF")("./background-splash-medium-"+this.imageNumber+".jpg"):this.styleObject.backgroundImage="url("+i("AvBI")("./background-splash-"+this.imageNumber+".jpg")},watch:{token:function(t){null===t?this.$router.push({name:"login-page"}):this.$router.push({name:"products"})},userRequestFail:function(t){!0===t&&(this.resetToken(),this.resetUser())}},methods:o()({},Object(r.c)("auth",["setAuthHeader","setAuthHeaderFromCookie","setTokenFromCookie"])),computed:o()({},Object(r.d)("auth",["token","user"])),components:{GlobalLayout:p}},h={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"app",attrs:{id:"app"}},[e("div",{style:this.styleObject}),this._v(" "),e("router-view")],1)},staticRenderFns:[]};var g=i("VU/8")(m,h,!1,function(t){i("Vb00")},null,null).exports,f=i("/ocq"),v={name:"RingLoader",props:{loading:{type:Boolean,default:!0},color:{type:String,default:"#5dc596"},size:{type:String,default:"60px"},margin:{type:String,default:"2px"},radius:{type:String,default:"100%"}},computed:{spinnerStyle:function(){return{height:this.size,width:this.size,border:parseFloat(this.size)/10+"px solid"+this.color,opacity:.4,borderRadius:this.radius}},spinnerBasicStyle:function(){return{height:this.size,width:this.size,position:"relative"}}}},_={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{directives:[{name:"show",rawName:"v-show",value:this.loading,expression:"loading"}],staticClass:"v-spinner"},[e("div",{staticClass:"v-ring v-ring1",style:this.spinnerBasicStyle},[e("div",{staticClass:"v-ring v-ring2",style:this.spinnerStyle}),e("div",{staticClass:"v-ring v-ring3",style:this.spinnerStyle})])])},staticRenderFns:[]};var E=i("VU/8")(v,_,!1,function(t){i("TR8l")},null,null).exports,b={name:"login-page",data:function(){return{msg:"Login",username:null,password:"",error:this.hasError,emailRegexValid:!0,colorRingLoader:"#2c3e50",sizeRingLoader:"40px"}},computed:o()({},Object(r.d)("auth",["hasAuthenticationError","username","isAuthenticated","isAuthenticating","token"])),components:{RingLoader:E},created:function(){this.resetErrors(),null!==this.token&&this.$router.push({name:"home-page"})},watch:{token:function(t){null!==t&&this.$router.push({name:"home-page"})},email:function(t){this.emailRegexValid=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t),this.resetErrors()},password:function(){this.resetErrors()}},methods:o()({},Object(r.c)("auth",["login","resetErrors","setAuthHeader"]),{submit:function(){this.login({username:this.username,password:this.password})}})},R={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("form",{staticClass:"form-component",attrs:{action:"https://",method:"post"},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[i("h2",{staticClass:"form-title"},[t._v("Connexion")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-input",class:{invalidClass:null===t.username},attrs:{id:"name",type:"text",name:"username",placeholder:"Nom d'utilisateur"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-input",class:{invalidClass:t.password.length<3&&""!=t.password},attrs:{id:"password",type:"password",name:"password",placeholder:"Mot de passe"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),t.isAuthenticating?t._e():i("button",{staticClass:"form-button",class:{"form-button-disabled":null===t.login||""===t.password||t.password.length<3}},[t._v("Connexion")])]),t._v(" "),t.isAuthenticating?t._e():i("div",{staticClass:"placeMessageSousBoutton"},[i("div",{staticClass:"sizeHomepageLinks"},[t._v("Vous êtes nouveau ?\n      "),i("router-link",{attrs:{to:"/auth/register"}},[t._v("\n        Inscrivez-vous\n      ")])],1),t._v(" "),!1===t.emailRegexValid&&""!=t.email?i("div",[t._v("Format d'email incorrect")]):t._e(),t._v(" "),t.password.length<3&&""!=t.password?i("div",[t._v("Mot de passe : 3 caractères minimum ")]):t._e(),t._v(" "),t.hasAuthenticationError?i("div",[t._v("Email ou mot de passe invalides")]):t._e()]),t._v(" "),t.isAuthenticating?i("div",{staticClass:"placeMessageSousBoutton loadingRingLoader",on:{click:t.submit}},[i("br"),i("ring-loader",{attrs:{color:t.colorRingLoader,size:t.sizeRingLoader}})],1):t._e()])},staticRenderFns:[]},S=i("VU/8")(b,R,!1,null,null,null).exports;s.a.use(r.b);var A={name:"register-page",data:function(){return{email:"",login:"",password:"",birthdate:null,emailRegexValid:!0,agevalidate:!0,colorRingLoader:"#2c3e50",sizeRingLoader:"40px"}},computed:o()({},Object(r.d)("auth",["hasRegistrationError","isRegistered","isRegistering","token"])),components:{RingLoader:E,footerLayout:u},created:function(){this.resetErrors(),null!==this.token&&this.$router.push({name:"home-page"})},watch:{token:function(t){null!==t&&this.$router.push({name:"home-page"})},birthdate:function(t){var e=Date.now(),i=new Date(t).getFullYear(),s=new Date(t);s.setUTCFullYear(i+16);var n=Date.parse(s);this.agevalidate=n<=e,this.resetErrors()},email:function(t){this.emailRegexValid=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t),this.resetErrors()},password:function(){this.resetErrors()}},methods:o()({},Object(r.c)("auth",["login","register","request","resetErrors"]),{submit:function(){this.register({login:this.login,email:this.email,password:this.password})}})},U={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("form",{staticClass:"form-component",attrs:{action:"https://",method:"post"},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[i("h2",{staticClass:"form-title"},[t._v("Inscription")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.login,expression:"login"}],staticClass:"form-input",class:{invalidClass:""===t.login},attrs:{id:"login",type:"text",name:"login",placeholder:"Login"},domProps:{value:t.login},on:{input:function(e){e.target.composing||(t.login=e.target.value)}}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-input",class:{invalidClass:!1===t.emailRegexValid&&""!=t.email},attrs:{id:"email",type:"text",name:"email",placeholder:"Email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-input",class:{invalidClass:t.password.length<3&&""!=t.password},attrs:{id:"password",type:"password",name:"password",placeholder:"Mot de passe"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),t.isRegistering?t._e():i("button",{staticClass:"form-button form-button-register",class:{"form-button-disabled":""===t.email||""===t.password||!1===t.emailRegexValid||t.password.length<3||!1===t.agevalidate}},[t._v("Inscription")])]),t._v(" "),t.isRegistering?t._e():i("div",{staticClass:"placeMessageSousBoutton"},[i("div",{staticClass:"sizeHomepageLinks"},[t._v("Vous avez un compte...\n      "),i("router-link",{attrs:{to:"/auth/login"}},[t._v("\n        Connectez-vous\n      ")])],1),t._v(" "),!1===t.emailRegexValid&&""!=t.email?i("div",[t._v("Format d'email incorrect")]):t._e(),t._v(" "),t.password.length<3&&""!=t.password?i("div",[t._v("Mot de passe : 3 caractères minimum ")]):t._e(),t._v(" "),!1===t.agevalidate&&""!=t.birthdate?i("div",[t._v("Vous devez avoir 16 ans")]):t._e(),t._v(" "),t.hasRegistrationError?i("div",[t._v("Erreur inscription")]):t._e(),t._v(" "),t.isRegistered?i("div",{staticClass:"confirmationInscription"},[t._v("\n      Un email vous a été envoyé à l'adresse :\n      "),i("br"),t._v(" "+t._s(t.email)+"\n    ")]):t._e()]),t._v(" "),t.isRegistering?i("div",{staticClass:"placeMessageSousBoutton loadingRingLoader",on:{click:t.submit}},[i("br"),i("ring-loader",{attrs:{color:t.colorRingLoader,size:t.sizeRingLoader}})],1):t._e()])},staticRenderFns:[]};var C=i("VU/8")(A,U,!1,function(t){i("4eST")},"data-v-735a29f5",null).exports,k={name:"product-detail-component",data:function(){return{urls:null}},computed:o()({},Object(r.d)("products",["getSelected"])),methods:o()({},Object(r.c)("products",["toggleIsPlaying","createProduct"]),{close:function(){this.unSelectProduct()},openFullscreen:function(){this.toggleIsPlaying()}})},w={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return null!==t.getSelected?i("div",{staticClass:"product-detail-container"},[i("div",{staticClass:"detail-container"},[i("div",{staticClass:"close-button",on:{click:t.close}}),t._v(" "),i("div",{staticClass:"play-button",on:{click:t.openFullscreen}},[i("img",{staticClass:"selected-product-image",attrs:{src:"http://image.tmdb.org/t/p/w500"+t.getSelected.urls.coverUrl,alt:t.getSelected.title}})]),t._v(" "),i("div",{staticClass:"detail-text"},[i("div",{staticClass:"detail-title"},[t._v(t._s(t.getSelected.title))]),i("br"),t._v(" "),null!==t.getSelected.urls.sourceFileUrl?i("a",{attrs:{href:t.getSelected.urls.sourceFileUrl}},[t._v("Original file")]):t._e(),t._v(" "),i("div",{staticClass:"detail-synopsis"},[t._v(t._s(t.getSelected.synopsis))])])])]):t._e()},staticRenderFns:[]};var T=i("VU/8")(k,w,!1,function(t){i("Pb3K")},"data-v-e204f506",null).exports;s.a.use(r.b);var P={name:"products",data:function(){return{isFullHeight:!0,products:[],searchBarMessage:"Rechercher ici des contenus"}},computed:o()({},Object(r.d)("products",["getSelected","getProducts","getMedias","getResults"])),components:{ProductDetailComponent:T,VideoPlayerModal:x,RingLoader:E,ProductDetail:x},created:function(){this.requestMedias(),this.requestFolders(),this.getMedias},watch:{getProducts:function(t){null==t?this.products=[]:this.products.push(t)},getResults:function(t){null==t?this.products=[]:this.products.push(t)},getMedias:function(t){null==t?this.products=[]:this.products.push(t)},getSelected:function(t){this.isFullHeight=null===t}},methods:o()({},Object(r.c)("products",["requestProducts","addProduct","setProducts","selectProduct","resetProducts","getNextResultPages","requestMedias","requestFolders"]),{select:function(t){this.selectProduct(t)}})},y={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"border"},[0!=t.products.length?i("div",[i("div",{staticClass:"product-list"},[t._l(t.products,function(e){return i("div",{key:e.id},[i("div",{staticClass:"product-item",on:{click:function(i){t.select(e)}}},[i("img",{staticClass:"product-image",attrs:{alt:e.title,src:"http://image.tmdb.org/t/p/w154"+e.urls.coverUrl}}),t._v(" "),i("div",{staticClass:"product-title"},[t._v(t._s(e.title))])])])}),t._v(" "),i("div",{staticClass:"list-bottom-container"},[i("button",{ref:"bottom",staticClass:"list-bottom",on:{click:function(e){t.getNextResultPages(2)}}},[t._v("Afficher la suite...")])])],2)]):i("div")])},staticRenderFns:[]};var x=i("VU/8")(P,y,!1,function(t){i("S9IH")},"data-v-16674f55",null).exports;s.a.use(r.b);var O={name:"video-player-modal",computed:o()({},Object(r.d)("products",["isPlaying","getSelected"])),methods:o()({},Object(r.c)("products",["toggleIsPlaying"]))},L={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isPlaying&&null!==t.getSelected?i("div",[i("video",{staticClass:"video-player",attrs:{id:"myvideo",width:"100%",height:"auto",controls:""},on:{click:t.toggleIsPlaying}},[i("source",{attrs:{src:t.getSelected.hdUrl,type:"video/mp4"}})]),t._v(" "),i("div",{staticClass:"close-button",on:{click:t.toggleIsPlaying}},[t._v("fermer")]),t._v(" "),i("div",{staticClass:"video-player-background"})]):t._e()},staticRenderFns:[]};var N=i("VU/8")(O,L,!1,function(t){i("YhZD")},"data-v-1b47df22",null).exports;s.a.use(r.b);var F={name:"header-layout",computed:o()({},Object(r.d)("auth",["user"])),watch:{user:function(t){this.firstName=t.firstName,this.lastName=t.lastName}},methods:o()({},Object(r.c)("auth",["resetUser","resetToken"]),{doLogout:function(){this.resetToken(),this.resetUser()}})},j={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"header-container"},[i("router-link",{attrs:{to:"/products"}},[i("div",{staticClass:"logo",on:{click:function(e){t.flushProduct()}}},[t._v("Flexiflex")])]),t._v(" "),i("div",{staticClass:"buttonContainer"},[null!=t.user?i("router-link",{staticClass:"button",attrs:{to:"auth/user-account"}},[t._v("Compte "+t._s(t.user.firstName)+" "+t._s(t.user.lastName))]):t._e(),t._v(" "),i("button",{staticClass:"button",on:{click:t.doLogout}},[t._v("Déconnexion")])],1)],1)},staticRenderFns:[]};var I=i("VU/8")(F,j,!1,function(t){i("SZ0f")},"data-v-610634c6",null).exports,M=i("mvHQ"),z=i.n(M),D=i("8+8L");s.a.use(D.a),s.a.use(r.b);var $={name:"search-bar",props:["isAdmin"],data:function(){return{hdUrl:null,sdUrl:"bouchon",sourceUrl:null,isTyping:!1,isFlexiSearch:!0,input:"",page:1}},created:function(){this.requestProducts()},watch:{isTyping:function(t,e){!1===e&&t!==e&&this.search()},input:function(t){t.length>0&&(this.isTyping=!0,setTimeout(function(){this.isTyping=!1}.bind(this),500))}},computed:o()({},Object(r.d)("products",["products","getResults","getSelected"])),methods:o()({},Object(r.c)("products",["addProduct","setProducts","flushProduct","requestProducts","selectProduct","unSelectProduct","setSearchParams","getNextResultPages","createProduct"]),{saveProduct:function(){null!==this.sourceUrl&&null!==this.hdUrl&&null!==this.sdUrl&&this.createProduct({urls:z()({hdUrl:this.hdUrl,sdUrl:this.sdUrl,sourceFileUrl:this.sourceUrl,coverUrl:this.getSelected.urls.coverUrl}),title:this.getSelected.title,synopsis:this.getSelected.synopsis})},deleteProduct:function(){alert(["Savez vous au moins ce que vous faites?","Pas sur que ce soit possible...","En êtes vous bien sur?"][Math.floor(3*Math.random())])},search:function(){this.isFlexiSearch?(this.unSelectProduct(),this.setProducts(null),this.requestProducts()):(this.unSelectProduct(),this.setProducts(null),this.setSearchParams({media:"movie",input:this.input}),this.getNextResultPages(3))}})},q={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"search-input-container"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.input,expression:"input"}],staticClass:"form-input search-input",attrs:{id:"search-input",name:"research",placeholder:"Rechercher votre film ici..."},domProps:{value:t.input},on:{input:function(e){e.target.composing||(t.input=e.target.value)}}}),t._v(" "),t.isFlexiSearch?t._e():i("div",{staticClass:"url_inputs"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.hdUrl,expression:"hdUrl"}],staticClass:"form-input search-input",attrs:{name:"hdUrl",placeholder:"Lien vers le fichier .mp4",required:""},domProps:{value:t.hdUrl},on:{input:function(e){e.target.composing||(t.hdUrl=e.target.value)}}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.sdUrl,expression:"sdUrl"}],staticClass:"form-input search-input",attrs:{name:"hdUrl",value:"SD mp4 url",placeholder:"",hidden:""},domProps:{value:t.sdUrl},on:{input:function(e){e.target.composing||(t.sdUrl=e.target.value)}}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.sourceUrl,expression:"sourceUrl"}],staticClass:"form-input search-input",attrs:{name:"hdUrl",placeholder:"Lien vers le fichier source",required:""},domProps:{value:t.sourceUrl},on:{input:function(e){e.target.composing||(t.sourceUrl=e.target.value)}}}),t._v(" "),i("div",{staticClass:"buttonPlace"},[i("button",{staticClass:"form-button box-checked-button",class:{send_button_invalid:null===t.hdUrl||null===t.sdUrl||null===t.sourceUrl},on:{click:t.saveProduct}},[t._v("Ajouter")]),t._v(" "),i("button",{staticClass:"form-button-delete box-checked-button",on:{click:function(e){t.deleteProduct()}}},[t._v("Supprimer")])])]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.isFlexiSearch,expression:"isFlexiSearch"}],staticClass:"checkbox",attrs:{type:"checkbox",id:"checkbox"},domProps:{checked:Array.isArray(t.isFlexiSearch)?t._i(t.isFlexiSearch,null)>-1:t.isFlexiSearch},on:{change:function(e){var i=t.isFlexiSearch,s=e.target,n=!!s.checked;if(Array.isArray(i)){var o=t._i(i,null);s.checked?o<0&&(t.isFlexiSearch=i.concat([null])):o>-1&&(t.isFlexiSearch=i.slice(0,o).concat(i.slice(o+1)))}else t.isFlexiSearch=n}}}),t._v(" "),i("div",{on:{click:function(e){t.search()}}},[i("i",{staticClass:"fab fa-searchengin loupe"})])])},staticRenderFns:[]};var G=i("VU/8")($,q,!1,function(t){i("AqrE")},"data-v-43d655b4",null).exports;s.a.use(r.b);var V={name:"home-layout",data:function(){return{admin:!1,email:"",products:null,colorRingLoader:"#2c3e50",sizeRingLoader:"200px"}},computed:o()({},Object(r.d)("auth",["token","user","userRequestFail"])),components:{SearchBar:G,FooterLayout:u,RingLoader:E,Products:x,ProductDetailComponent:T,VideoPlayerModal:N,headerLayout:I,footerLayout:u},created:function(){null===this.user&&this.request(),null===this.token&&this.$router.push({name:"login-page"}),this.$router.push("products")},methods:o()({},Object(r.c)("auth",["requestUser","resetUser","resetToken","setAuthHeaderFromCookie","logout","requestProduct","minioLogin"]),{request:function(){this.requestUser(),this.minioLogin()},doLogout:function(){this.resetToken(),this.resetUser()},inArray:function(t,e){for(var i=e.length,s=0;s<i;s++)if(e[s]===t)return!0;return!1}}),watch:{user:function(t){this.inArray("ROLE_ADMIN",t.authorities)?this.isAdmin=!0:this.isAdmin=!1}}},Q={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"home-container"},[e("header-layout"),this._v(" "),e("div",{staticClass:"body-content"},[e("search-bar",{attrs:{isAdmin:this.admin}}),this._v(" "),e("product-detail-component"),this._v(" "),e("products"),this._v(" "),e("video-player-modal")],1),this._v(" "),e("footer-layout")],1)},staticRenderFns:[]};var H=i("VU/8")(V,Q,!1,function(t){i("vWot")},"data-v-760aa4f8",null).exports;s.a.use(r.b);var B={name:"final-register-page",data:function(){return{prenom:"",nom:"",email:"",birthdate:"",colorRingLoader:"#2c3e50",sizeRingLoader:"120px",isActivated:!1,hasError:!1,errorMessage:""}},components:{RingLoader:E},created:function(){this.activate()},computed:o()({},Object(r.d)("auth",["user"])),methods:o()({},Object(r.c)("auth",["updateUser"]),{submit:function(){this.updateUser({login:this.email,firstName:this.firstName,lastName:this.lastName})},activate:function(){var t=this;console.log(this.$route.params.activationKey),s.a.http.get("api/activate?key="+this.$route.params.activationKey,{headers:{"Access-Control-Allow-Origin":"*",Accept:"application/json"}}).then(function(e){200===e.status?t.isActivated=!0:(t.hasError=!0,t.errorMessage=e.body.title)},function(e){t.hasError=!0,t.errorMessage=e.body.title})}})},K={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.hasError||t.isActivated?t._e():i("div",[t._v("Activation de votre compte...")]),t._v(" "),t.hasError?i("div",[t._v("Erreur d'activation: "+t._s(t.errorMessage))]):t._e(),t._v(" "),t.isActivated?i("div",[t._v("Votre compte est maintenant actif..."),i("router-link",{attrs:{to:"/auth/login"}},[t._v("Login!")])],1):t._e(),t._v(" "),i("div",{staticClass:"form-component"},[t.hasError||t.isActivated?t._e():i("div",{staticClass:"center"},[i("ring-loader",{attrs:{color:t.colorRingLoader,size:t.sizeRingLoader}})],1)])])},staticRenderFns:[]};var W=i("VU/8")(B,K,!1,function(t){i("4347")},"data-v-44fa7dd2",null).exports;s.a.use(r.b);var Y={name:"user-account",data:function(){return{email:"",colorRingLoader:"#2c3e50",sizeRingLoader:"200px"}},computed:o()({},Object(r.d)("auth",["token","user","userRequestFail"])),components:{RingLoader:E,headerLayout:I},created:function(){null===this.user&&this.request()},methods:o()({},Object(r.c)("auth",["requestUser","resetUser","resetToken","setAuthHeaderFromCookie","logout","deleteUser","updateUser"]),{request:function(){this.requestUser()},submit:function(){this.updateUser({login:this.user.email,firstName:this.user.firstName,lastName:this.user.lastName})},deleteUserNow:function(){this.deleteUser(this.user.email)},doLogout:function(){this.resetToken(),this.resetUser()}})},Z={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"user-account-container"},[i("div",[i("h2",{staticClass:"form-title"},[t._v("Modifier votre profil")]),t._v(" "),i("form",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.user.firstName,expression:"user.firstName"}],staticClass:"form-input",class:{invalidClass:""===t.user.firstName},attrs:{id:"prenom",type:"text",name:"prenom",placeholder:"Prénom",maxlength:"50"},domProps:{value:t.user.firstName},on:{input:function(e){e.target.composing||t.$set(t.user,"firstName",e.target.value)}}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"form-input",attrs:{id:"email",type:"text",placeholder:"Email",disabled:""},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.user.lastName,expression:"user.lastName"}],staticClass:"form-input",class:{invalidClass:""===t.user.lastName},attrs:{id:"nom",type:"text",name:"nom",placeholder:"Nom",maxlength:"50"},domProps:{value:t.user.lastName},on:{input:function(e){e.target.composing||t.$set(t.user,"lastName",e.target.value)}}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.user.birthdate,expression:"user.birthdate"}],staticClass:"form-input",attrs:{id:"birthdate",type:"text",placeholder:"Date de naissance",disabled:""},domProps:{value:t.user.birthdate},on:{input:function(e){e.target.composing||t.$set(t.user,"birthdate",e.target.value)}}})]),t._v(" "),i("button",{staticClass:"form-button",class:{"form-button-disabled":""===t.user.firstName||""===t.user.lastName},on:{click:t.submit}},[t._v("Modifier Compte")]),t._v(" "),i("button",{staticClass:"form-button-delete",on:{click:t.deleteUserNow}},[t._v("Supprimer Compte")])]),t._v(" "),i("router-link",{staticClass:"form-button return-link",attrs:{to:"/"}},[t._v("Retour")])],1)},staticRenderFns:[]};var J=i("VU/8")(Y,Z,!1,function(t){i("GQjx")},"data-v-478752ef",null).exports;s.a.use(f.a);var X,tt=new f.a({mode:"history",routes:[{path:"/",name:"home-layout",component:H,children:[{path:"/products",name:"products",component:x}]},{path:"/auth",name:"connection-layout",component:p,children:[{path:"login",name:"login-page",component:S},{path:"register",name:"register-page",component:C},{path:"final-register/:activationKey",name:"final-register-page",component:W},{path:"user-account",name:"user-account",component:J},{path:"/auth/*",component:S,name:"login"}]},{path:"/*",component:H,name:"default"}]}),et=i("bOdI"),it=i.n(et),st=i("ppUw"),nt=i.n(st);s.a.use(nt.a);var ot,rt={state:{userRequestFail:!1,user:null},getters:{user:function(t){return t.user},userRequestFail:function(t){return t.user}},mutations:(X={},it()(X,"USER_REQUEST",function(t,e){t.user=e.body,t.userRequestFail=!1}),it()(X,"RESET_USER",function(t){t.user=null}),it()(X,"USER_REQUEST_FAIL",function(t){t.userRequestFail=!0}),X),actions:{requestUser:function(t){var e=t.commit;s.a.http.get("api/account",{headers:{"Access-Control-Allow-Origin":"*",Accept:"application/json",Authorization:"Bearer "+window.$cookies.get("Authorization")}}).then(function(t){200===t.status?e("USER_REQUEST",t):e("USER_REQUEST_FAIL")},function(t){e("USER_REQUEST_FAIL")})},resetUser:function(t){(0,t.commit)("RESET_USER")},updateUser:function(t,e){var i=t.commit,n=e.login,o=e.firstName,r=e.lastName;s.a.http.post("api/custom/delete",{login:n,firstName:o,lastName:r},{headers:{"Access-Control-Allow-Origin":"*",Accept:"application/json",Authorization:"Bearer "+window.$cookies.get("Authorization")}}).then(function(t){200===t.status?(i("USER_REQUEST",t),alert("Votre comte à été modifié!")):(alert("erreur"),i("USER_REQUEST_FAIL"))},function(t){alert("erreur"),i("USER_REQUEST_FAIL")})},deleteUser:function(t,e){var i=t.commit;s.a.http.delete("api/users/"+e+"'",{login:e},{headers:{"Access-Control-Allow-Origin":"*",Accept:"application/json",Authorization:"Bearer "+window.$cookies.get("Authorization")}}).then(function(t){200===t.status?i("USER_REQUEST",t):i("USER_REQUEST_FAIL")},function(t){i("USER_REQUEST_FAIL")})}}};s.a.use(nt.a);var at,ct,ut={namespaced:!0,state:{isAuthenticating:!1,isAuthenticated:!1,hasAuthenticationError:!1,isRegistering:!1,isRegistered:!1,hasRegistrationError:!1,hasCookie:null,minioToken:window.$cookies.get("minio"),token:window.$cookies.get("token")},getters:{isAuthenticating:function(t){return t.isAuthenticating},isAuthenticated:function(t){return t.isAuthenticated},hasAuthenticationError:function(t){return t.hasAuthenticationError},isRegistered:function(t){return t.isRegistered},isRegistering:function(t){return t.isRegistering},hasRegistrationError:function(t){return t.hasRegistrationError},hasCookie:function(t){return t.hasCookie},token:function(t){return t.token},uuid:function(t){return t.uuid}},mutations:(ot={},it()(ot,"LOGIN_REQUEST",function(t){t.isAuthenticating=!0,t.isAuthenticated=!1,t.hasAuthenticationError=!1}),it()(ot,"LOGIN_SUCCESS",function(t){t.isAuthenticating=!1,t.isAuthenticated=!0,t.hasAuthenticationError=!1}),it()(ot,"LOGIN_FAIL",function(t){t.isAuthenticating=!1,t.isAuthenticated=!1,t.hasAuthenticationError=!0}),it()(ot,"REGISTER_REQUEST",function(t){t.isRegistering=!0,t.isRegistered=!1,t.hasRegistrationError=!1}),it()(ot,"REGISTER_SUCCESS",function(t){t.isRegistering=!1,t.isRegistered=!0,t.hasRegistrationError=!1}),it()(ot,"REGISTER_FAIL",function(t){t.isRegistering=!1,t.isRegistered=!1,t.hasRegistrationError=!0}),it()(ot,"LOGOUT_REQUEST",function(t){}),it()(ot,"LOGOUT_SUCCESS",function(t){t.isAuthenticated=!1}),it()(ot,"LOGOUT_FAIL",function(t){}),it()(ot,"SET_USER_TOKEN",function(t,e){window.$cookies.set("Authorization",e.id_token),t.token=e.token,t.hasCookie=!0}),it()(ot,"SET_MINIO_TOKEN",function(t,e){window.$cookies.set("Minio_Authorization",e),t.minioToken=e}),it()(ot,"RESET_USER_TOKEN",function(t){window.$cookies.remove("Authorization"),t.token=null,t.uuid=null,t.hasCookie=!1}),it()(ot,"RESET_ERRORS",function(t){t.hasAuthenticationError=!1,t.hasRegistrationError=!1}),ot),actions:{login:function(t,e){var i=t.commit,n=e.username,o=e.password;i("LOGIN_REQUEST"),s.a.http.post("api/authenticate",{password:o,rememberMe:!0,username:n,email:n},{headers:{"Access-Control-Allow-Origin":"*",Accept:"application/json"}}).then(function(t){t.ok?(i("LOGIN_SUCCESS"),i("SET_USER_TOKEN",t.body)):i("LOGIN_FAIL")},function(t){i("LOGIN_FAIL")})},minioLogin:function(t){var e=t.commit;s.a.http.post("http://62.210.148.177:9001/minio/webrpc",{id:"1",jsonrpc:"2.0",method:"Web.Login",params:{password:"m2ijavamsa",username:"flexiflexadmin"}},{headers:{"Access-Control-Allow-Origin":"*",Accept:"application/json","Content-Type":"application/json"}}).then(function(t){e("SET_MINIO_TOKEN",t.body.result.token),console.log(window.$cookies.get("Minio_Authorization"))},function(t){console.log(t)})},register:function(t,e){var i=t.commit,n=e.email,o=e.password;e.birthdate;i("REGISTER_REQUEST"),s.a.http.post("api/register",{login:login,email:n,password:o},{headers:{"Access-Control-Allow-Origin":"*",Accept:"application/json"}}).then(function(t){201===t.status?i("REGISTER_SUCCESS"):i("REGISTER_FAIL")},function(t){i("REGISTER_FAIL")})},resetToken:function(t){(0,t.commit)("RESET_USER_TOKEN")},logout:function(t){var e=t.commit;t.dispatch;e("LOGOUT_REQUEST"),s.a.http.post("logout").then(function(t){e("RESET_USER_TOKEN"),e("LOGOUT_SUCCESS")},function(t){e("LOGOUT_FAIL")})},reset:function(t){var e=t.commit;t.dispatch;e("RESET_USER_TOKEN"),e("LOGOUT_SUCCESS")},resetErrors:function(t){(0,t.commit)("RESET_ERRORS")},setAuthHeader:function(t,e,i){t.commit;s.a.http.headers.put.Authorization=i},setAuthHeaderFromCookie:function(){s.a.http.headers.put.Authorization=window.$cookies.get("Authorization")},setTokenFromCookie:function(t){var e=t.commit;null!==window.$cookies.get("Authorization")&&e("SET_USER_TOKEN",{id_token:window.$cookies.get("Authorization")})}},modules:{user:rt}},lt={state:{page:1,totalPages:0,tmdbParams:null,hasError:!1,results:null},getters:{getParams:function(t){return t.tmdbParams},getPage:function(t){return t.tmdbParams},getTotalPages:function(t){return t.totalPages},getResults:function(t){return t.results}},mutations:(at={},it()(at,"SET_PARAMS",function(t,e){t.tmdbParams=e}),it()(at,"INC_PAGE",function(t,e){t.page+=e}),it()(at,"SET_TOTAL_PAGES",function(t,e){t.totalPages=e}),it()(at,"RESET_SEARCH_PARAMS",function(t){t.tmdbParams=null,t.totalPages=0,t.page=0,t.results=null}),it()(at,"GET_NEXT_PAGE",function(t){t.page++,t.hasError=!1,s.a.http.options.credentials=!1,s.a.http.post("http://api.themoviedb.org/3/search/"+t.tmdbParams.media+"?api_key=b9e5550676ff70a2c33461f55fac000c&query="+t.tmdbParams.input+"&language=fr&page="+t.page,{headers:{"Access-Control-Allow-Origin":"*"}}).then(function(e){e.body.results.forEach(function(e){null!==e.poster_path&&setTimeout(function(){t.results={title:e.title,urls:{hdUrl:null,sdUrl:null,sourceFileUrl:null,coverUrl:e.poster_path},synopsis:e.overview,isTmdb:!0}},200)})},function(e){setTimeout(function(){t.hasError=!0},2e3)})}),at),actions:{getNextResultPages:function(t,e){for(var i=t.commit,s=0;s<e;s++)i("GET_NEXT_PAGE")},setSearchParams:function(t,e){var i=t.commit;i("RESET_SEARCH_PARAMS"),i("SET_PARAMS",e)}}};s.a.use(nt.a);var dt,pt={state:{mediaRequestFail:!1,media:null,selected:null,isPlaying:!1},getters:{getMedias:function(t){return t.media},mediaRequestFail:function(t){return t.media},getSelected:function(t){return t.selected},isPlaying:function(t){return t.isPlaying}},mutations:(ct={},it()(ct,"MEDIA_REQUEST",function(t,e){t.media=e}),it()(ct,"MEDIA_PUSH",function(t,e){t.media=e}),it()(ct,"RESET_MEDIA",function(t){t.media=null}),it()(ct,"MEDIA_REQUEST_FAIL",function(t){t.mediaRequestFail=!0}),it()(ct,"SELECT_A_MEDIA",function(t,e){t.selected=e}),it()(ct,"UNSELECT_A_MEDIA",function(t){t.selected=null}),it()(ct,"TOGGLE_IS_PLAYING",function(t){t.isPlaying=!t.isPlaying}),ct),actions:{addMedia:function(t,e){(0,t.commit)("MEDIA_PUSH",e)},setMedias:function(t,e){(0,t.commit)("MEDIA_REQUEST",e)},flushMedia:function(t){(0,t.commit)("MEDIA_REQUEST",[])},unSelectMedia:function(t){(0,t.commit)("UNSELECT_A_MEDIA")},resetMedias:function(t){(0,t.commit)("RESET_MEDIA")},requestMedias:function(t,e){t.commit;s.a.http.post("http://62.210.148.177:9001/minio/webrpc",{id:"1",jsonrpc:"2.0",method:"Web.ListObjects",params:{bucketName:"transmission",marker:"",prefix:"incomplete/"}},{headers:{"Access-Control-Allow-Origin":"*",Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+window.$cookies.get("Minio_Authorization")}}).then(function(t){t.body.result.objects.forEach(function(t){"video/mp4"===t.contentType&&console.log(t.name)})},function(t){console.log(t)})},requestFolders:function(t){t.commit;s.a.http.post("http://62.210.148.177:9001/minio/webrpc",{id:"1",jsonrpc:"2.0",method:"Web.ListObjects",params:{bucketName:"transmission",marker:"",prefix:""}},{headers:{"Access-Control-Allow-Origin":"*",Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+window.$cookies.get("Minio_Authorization")}}).then(function(t){console.log(t),t.body.result.objects.forEach(function(t){console.log(t)})},function(t){console.log(t)})}}},mt={namespaced:!0,state:{productRequestFail:!1,product:null,selected:null,isPlaying:!1},getters:{getProducts:function(t){return t.product},productRequestFail:function(t){return t.product},getSelected:function(t){return t.selected},isPlaying:function(t){return t.isPlaying}},mutations:(dt={},it()(dt,"PRODUCT_REQUEST",function(t,e){t.product=e}),it()(dt,"PRODUCT_PUSH",function(t,e){e.urls=JSON.parse(e.urls),t.product=e}),it()(dt,"RESET_PRODUCT",function(t){t.product=null}),it()(dt,"PRODUCT_REQUEST_FAIL",function(t){t.productRequestFail=!0}),it()(dt,"SELECT_A_PRODUCT",function(t,e){t.selected=e}),it()(dt,"UNSELECT_A_PRODUCT",function(t){t.selected=null}),it()(dt,"TOGGLE_IS_PLAYING",function(t){t.isPlaying=!t.isPlaying}),dt),actions:{addProduct:function(t,e){(0,t.commit)("PRODUCT_PUSH",e)},setProducts:function(t,e){(0,t.commit)("PRODUCT_REQUEST",e)},flushProduct:function(t){(0,t.commit)("PRODUCT_REQUEST",[])},toggleIsPlaying:function(t){(0,t.commit)("TOGGLE_IS_PLAYING")},selectProduct:function(t,e){(0,t.commit)("SELECT_A_PRODUCT",e)},unSelectProduct:function(t){(0,t.commit)("UNSELECT_A_PRODUCT")},resetProducts:function(t){(0,t.commit)("RESET_PRODUCT")},requestProducts:function(t){var e=t.commit;e("UNSELECT_A_PRODUCT"),s.a.http.options.credentials=!1,s.a.http.get("api/products",{headers:{"Access-Control-Allow-Origin":"*",Accept:"application/json",Authorization:"Bearer "+window.$cookies.get("Authorization")}}).then(function(t){t.body.forEach(function(t){setTimeout(function(){e("PRODUCT_PUSH",t)}.bind(e),200)})},function(t){console.log(t)}),e("RESET_PRODUCT",null)},createProduct:function(t,e){var i=t.commit;console.log(e),s.a.http.options.credentials=!1,s.a.http.post("api/products",e,{headers:{"Access-Control-Allow-Origin":"*",Accept:"application/json",Authorization:"Bearer "+window.$cookies.get("Authorization")}}).then(function(t){201===t.status?(t.isTmdb=!1,alert("Votre contenu à bien été enregistré ;)"),i("SELECT_A_PRODUCT",t)):alert("Erreur!")},function(t){alert("Erreur!")})}},modules:{search:lt,media:pt}};s.a.use(r.b);var ht=new r.a({modules:{auth:ut,products:mt}});s.a.use(D.a);s.a.http.options.root="http://62.210.148.177:9090/",s.a.config.productionTip=!1,new s.a({el:"#app",router:tt,store:ht,components:{App:g},template:"<App/>"})},Pb3K:function(t,e){},S9IH:function(t,e){},SZ0f:function(t,e){},TR8l:function(t,e){},Vb00:function(t,e){},WRcF:function(t,e,i){var s={"./background-splash-medium-1.jpg":"bYGn","./background-splash-medium-2.jpg":"+G/c","./background-splash-medium-3.jpg":"6DcS","./background-splash-medium-4.jpg":"61sc","./background-splash-medium-5.jpg":"1dI8","./background-splash-medium-6.jpg":"iB/6","./background-splash-medium-7.jpg":"yeIw"};function n(t){return i(o(t))}function o(t){var e=s[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}n.keys=function(){return Object.keys(s)},n.resolve=o,t.exports=n,n.id="WRcF"},YhZD:function(t,e){},bYGn:function(t,e,i){t.exports=i.p+"static/img/background-splash-medium-1.85df8f0.jpg"},c6iF:function(t,e){},"hKQ/":function(t,e,i){t.exports=i.p+"static/img/background-splash-2.47fc5cb.jpg"},"iB/6":function(t,e,i){t.exports=i.p+"static/img/background-splash-medium-6.5af208b.jpg"},"p6U+":function(t,e,i){t.exports=i.p+"static/img/background-splash-4.69ae481.jpg"},vWot:function(t,e){},yMF7:function(t,e,i){t.exports=i.p+"static/img/background-splash-1.8d3cf36.jpg"},yeIw:function(t,e,i){t.exports=i.p+"static/img/background-splash-medium-7.e49d045.jpg"}},["NHnr"]);
//# sourceMappingURL=app.3bb14542e1525c93573e.js.map