webpackJsonp([1],{"+G/c":function(t,e,s){t.exports=s.p+"static/img/background-splash-medium-2.2b2052a.jpg"},0:function(t,e){},"0Oij":function(t,e){},"0lRW":function(t,e){},"1Sz1":function(t,e,s){t.exports=s.p+"static/img/background-splash-7.95af7e8.jpg"},"1dI8":function(t,e,s){t.exports=s.p+"static/img/background-splash-medium-5.2e8bf2f.jpg"},"3S+8":function(t,e){},"61sc":function(t,e,s){t.exports=s.p+"static/img/background-splash-medium-4.8e24c3e.jpg"},"6DcS":function(t,e,s){t.exports=s.p+"static/img/background-splash-medium-3.e253806.jpg"},"6gUe":function(t,e,s){t.exports=s.p+"static/img/background-splash-3.533cd0c.jpg"},7523:function(t,e){},AvBI:function(t,e,s){var i={"./background-splash-1.jpg":"yMF7","./background-splash-2.jpg":"hKQ/","./background-splash-3.jpg":"6gUe","./background-splash-4.jpg":"p6U+","./background-splash-5.jpg":"H5fb","./background-splash-6.jpg":"KM16","./background-splash-7.jpg":"1Sz1"};function n(t){return s(r(t))}function r(t){var e=i[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}n.keys=function(){return Object.keys(i)},n.resolve=r,t.exports=n,n.id="AvBI"},GQjx:function(t,e){},H5fb:function(t,e,s){t.exports=s.p+"static/img/background-splash-5.848553d.jpg"},KM16:function(t,e,s){t.exports=s.p+"static/img/background-splash-6.4d294e7.jpg"},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("7+uW"),n=s("Dd8w"),r=s.n(n),a=s("NYxO"),o={name:"footer-layout",data:function(){return{whatYearAreWe:null}},created:function(){var t=Date.now();this.whatYearAreWe=new Date(t).getFullYear()}},c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container"},[this._m(0),this._v(" "),e("span",{staticClass:"flexiflex"},[this._v("Flexiflex")]),this._v(" "),e("div",{staticClass:"year positionCenter"},[this._v(" "+this._s(this.whatYearAreWe)+" ")])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"copyright"},[e("i",{staticClass:"far fa-copyright"})])}]};var u=s("VU/8")(o,c,!1,function(t){s("3S+8")},"data-v-2101c481",null).exports,l={name:"connection-layout",components:{FooterLayout:u}},d={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"flexiflex-logo"},[this._v("Flexiflex")]),this._v(" "),e("div",{staticClass:"body-content"},[e("div",{staticClass:"global-layout-container body-background"},[e("router-view")],1),this._v(" "),e("footer-layout")],1)])},staticRenderFns:[]};var p=s("VU/8")(l,d,!1,function(t){s("c6iF")},"data-v-7bb663ad",null).exports,m={name:"App",data:function(){return{backgroundRandom:"../src/assets/homepage/background-splash-1.jpg",num:null,windowWidth:0,txt:"",imageNumber:1,styleObject:{position:"fixed",content:"",backgroundImage:null,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover",backgroundColor:"black",opacity:.8,zIndex:-2,width:"100vw",height:"100vh"}}},created:function(){this.setTokenFromCookie(),this.imageNumber=Math.ceil(7*Math.random()),window.innerWidth<=812?this.styleObject.backgroundImage="url("+s("WRcF")("./background-splash-medium-"+this.imageNumber+".jpg"):this.styleObject.backgroundImage="url("+s("AvBI")("./background-splash-"+this.imageNumber+".jpg")},watch:{token:function(t){null===t?this.$router.push({name:"login-page"}):this.$router.push({name:"products"})},userRequestFail:function(t){!0===t&&(this.resetToken(),this.resetUser())}},methods:r()({},Object(a.c)("auth",["setAuthHeader","setAuthHeaderFromCookie","setTokenFromCookie"])),computed:r()({},Object(a.d)("auth",["token","user"])),components:{GlobalLayout:p}},h={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"app",attrs:{id:"app"}},[e("div",{style:this.styleObject}),this._v(" "),e("router-view")],1)},staticRenderFns:[]};var g=s("VU/8")(m,h,!1,function(t){s("Vb00")},null,null).exports,v=s("/ocq"),f={name:"RingLoader",props:{loading:{type:Boolean,default:!0},color:{type:String,default:"#5dc596"},size:{type:String,default:"60px"},margin:{type:String,default:"2px"},radius:{type:String,default:"100%"}},computed:{spinnerStyle:function(){return{height:this.size,width:this.size,border:parseFloat(this.size)/10+"px solid"+this.color,opacity:.4,borderRadius:this.radius}},spinnerBasicStyle:function(){return{height:this.size,width:this.size,position:"relative"}}}},_={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{directives:[{name:"show",rawName:"v-show",value:this.loading,expression:"loading"}],staticClass:"v-spinner"},[e("div",{staticClass:"v-ring v-ring1",style:this.spinnerBasicStyle},[e("div",{staticClass:"v-ring v-ring2",style:this.spinnerStyle}),e("div",{staticClass:"v-ring v-ring3",style:this.spinnerStyle})])])},staticRenderFns:[]};var b=s("VU/8")(f,_,!1,function(t){s("TR8l")},null,null).exports,E={name:"login-page",data:function(){return{msg:"Login",email:"",password:"",error:this.hasError,emailRegexValid:!0,colorRingLoader:"#2c3e50",sizeRingLoader:"40px"}},computed:r()({},Object(a.d)("auth",["hasAuthenticationError","username","isAuthenticated","isAuthenticating","token"])),components:{RingLoader:b},created:function(){this.resetErrors(),null!==this.token&&this.$router.push({name:"home-page"})},watch:{token:function(t){null!==t&&this.$router.push({name:"home-page"})},email:function(t){this.emailRegexValid=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t),this.resetErrors()},password:function(){this.resetErrors()}},methods:r()({},Object(a.c)("auth",["login","resetErrors","setAuthHeader"]),{submit:function(){this.login({username:this.email,password:this.password})}})},R={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("form",{staticClass:"form-component",attrs:{action:"https://",method:"post"},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[s("h2",{staticClass:"form-title"},[t._v("Connexion")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-input",class:{invalidClass:!1===t.emailRegexValid&&""!=t.email},attrs:{id:"name",type:"text",name:"email",placeholder:"Email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-input",class:{invalidClass:t.password.length<3&&""!=t.password},attrs:{id:"password",type:"password",name:"password",placeholder:"Mot de passe"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),t.isAuthenticating?t._e():s("button",{staticClass:"form-button",class:{"form-button-disabled":""===t.email||""===t.password||!1===t.emailRegexValid||t.password.length<3}},[t._v("Connexion")])]),t._v(" "),t.isAuthenticating?t._e():s("div",{staticClass:"placeMessageSousBoutton"},[s("div",{staticClass:"sizeHomepageLinks"},[t._v("Vous êtes nouveau ?\n      "),s("router-link",{attrs:{to:"/auth/register"}},[t._v("\n        Inscrivez-vous\n      ")])],1),t._v(" "),!1===t.emailRegexValid&&""!=t.email?s("div",[t._v("Format d'email incorrect")]):t._e(),t._v(" "),t.password.length<3&&""!=t.password?s("div",[t._v("Mot de passe : 3 caractères minimum ")]):t._e(),t._v(" "),t.hasAuthenticationError?s("div",[t._v("Email ou mot de passe invalides")]):t._e()]),t._v(" "),t.isAuthenticating?s("div",{staticClass:"placeMessageSousBoutton loadingRingLoader",on:{click:t.submit}},[s("br"),s("ring-loader",{attrs:{color:t.colorRingLoader,size:t.sizeRingLoader}})],1):t._e()])},staticRenderFns:[]},S=s("VU/8")(E,R,!1,null,null,null).exports;i.a.use(a.b);var U={name:"register-page",data:function(){return{email:"",password:"",birthdate:null,emailRegexValid:!0,agevalidate:!0,colorRingLoader:"#2c3e50",sizeRingLoader:"40px"}},computed:r()({},Object(a.d)("auth",["hasRegistrationError","isRegistered","isRegistering","token"])),components:{RingLoader:b,footerLayout:u},created:function(){this.resetErrors(),null!==this.token&&this.$router.push({name:"home-page"})},watch:{token:function(t){null!==t&&this.$router.push({name:"home-page"})},birthdate:function(t){var e=Date.now(),s=new Date(t).getFullYear(),i=new Date(t);i.setUTCFullYear(s+16);var n=Date.parse(i);this.agevalidate=n<=e,this.resetErrors()},email:function(t){this.emailRegexValid=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t),this.resetErrors()},password:function(){this.resetErrors()}},methods:r()({},Object(a.c)("auth",["login","register","request","resetErrors"]),{submit:function(){this.register({email:this.email,password:this.password,birthdate:this.birthdate})}})},C={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("form",{staticClass:"form-component",attrs:{action:"https://",method:"post"},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[s("h2",{staticClass:"form-title"},[t._v("Inscription")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-input",class:{invalidClass:!1===t.emailRegexValid&&""!=t.email},attrs:{id:"email",type:"text",name:"email",placeholder:"Email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-input",class:{invalidClass:t.password.length<3&&""!=t.password},attrs:{id:"password",type:"password",name:"password",placeholder:"Mot de passe"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.birthdate,expression:"birthdate"}],staticClass:"form-input form-input-date",class:{birthdateClass:null===t.birthdate||""===t.birthdate,invalidClass:!1===t.agevalidate&&""!=t.birthdate},attrs:{id:"birthdate",type:"date",name:"birthdate"},domProps:{value:t.birthdate},on:{input:function(e){e.target.composing||(t.birthdate=e.target.value)}}}),t._v(" "),t.isRegistering?t._e():s("button",{staticClass:"form-button form-button-register",class:{"form-button-disabled":""===t.email||""===t.password||null===t.birthdate||!1===t.emailRegexValid||t.password.length<3||!1===t.agevalidate}},[t._v("Inscription")])]),t._v(" "),t.isRegistering?t._e():s("div",{staticClass:"placeMessageSousBoutton"},[s("div",{staticClass:"sizeHomepageLinks"},[t._v("Vous avez un compte...\n      "),s("router-link",{attrs:{to:"/auth/login"}},[t._v("\n        Connectez-vous\n      ")])],1),t._v(" "),!1===t.emailRegexValid&&""!=t.email?s("div",[t._v("Format d'email incorrect")]):t._e(),t._v(" "),t.password.length<3&&""!=t.password?s("div",[t._v("Mot de passe : 3 caractères minimum ")]):t._e(),t._v(" "),!1===t.agevalidate&&""!=t.birthdate?s("div",[t._v("Vous devez avoir 16 ans")]):t._e(),t._v(" "),t.hasRegistrationError?s("div",[t._v("Erreur inscription")]):t._e(),t._v(" "),t.isRegistered?s("div",{staticClass:"confirmationInscription"},[t._v("\n      Un email vous a été envoyé à l'adresse :\n      "),s("br"),t._v(" "+t._s(t.email)+"\n    ")]):t._e()]),t._v(" "),t.isRegistering?s("div",{staticClass:"placeMessageSousBoutton loadingRingLoader",on:{click:t.submit}},[s("br"),s("ring-loader",{attrs:{color:t.colorRingLoader,size:t.sizeRingLoader}})],1):t._e()])},staticRenderFns:[]};var A=s("VU/8")(U,C,!1,function(t){s("0Oij")},"data-v-abe24576",null).exports,k={name:"product-detail-component",data:function(){return{hdUrl:null,sdUrl:null,sourceUrl:null}},computed:r()({},Object(a.d)("products",["getSelected"])),methods:r()({},Object(a.c)("products",["toggleIsPlaying","createProduct"]),{close:function(){this.unSelectProduct()},openFullscreen:function(){this.toggleIsPlaying()}})},w={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return null!==t.getSelected?s("div",{staticClass:"product-detail-container"},[s("div",{staticClass:"detail-container"},[s("div",{staticClass:"play-button",on:{click:t.openFullscreen}},[s("img",{staticClass:"selected-product-image",attrs:{src:"http://image.tmdb.org/t/p/w500"+t.getSelected.coverUrl,alt:t.getSelected.title}})]),t._v(" "),s("div",{staticClass:"detail-text"},[s("div",{staticClass:"detail-title"},[t._v(t._s(t.getSelected.title))]),s("br"),t._v(" "),null!==t.hdUrl?s("a",{attrs:{href:t.hdUrl}},[t._v("HD mp4")]):t._e(),t._v(" "),null!==t.sdUrl?s("a",{attrs:{href:t.sdUrl}},[t._v("SD mp4")]):t._e(),t._v(" "),null!==t.getSelected.sourceFileUrl?s("a",{attrs:{href:t.getSelected.sourceFileUrl}},[t._v("Original file")]):t._e(),t._v(" "),s("div",{staticClass:"detail-synopsis"},[t._v(t._s(t.getSelected.synopsis))])])])]):t._e()},staticRenderFns:[]};var P=s("VU/8")(k,w,!1,function(t){s("7523")},"data-v-469eddf6",null).exports;i.a.use(a.b);var T={name:"products",data:function(){return{isFullHeight:!0,products:[],searchBarMessage:"Rechercher ici des contenus"}},computed:r()({},Object(a.d)("products",["getSelected","getProducts","getResults"])),components:{ProductDetailComponent:P,VideoPlayerModal:x,RingLoader:b,ProductDetail:x},created:function(){null===this.products&&this.requestProducts()},watch:{getProducts:function(t){null==t?this.products=[]:this.products.push(t)},getResults:function(t){null==t?this.products=[]:(this.products.push(t),console.log(this.products))},getSelected:function(t){null===t?(console.log("################null#################"),this.isFullHeight=!0):(console.log("******************pas null************"),this.isFullHeight=!1)}},methods:r()({},Object(a.c)("products",["requestProducts","addProduct","setProducts","selectProduct","resetProducts","getNextResultPages"]),{select:function(t){this.selectProduct(t)}})},y={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"border"},[0!=t.products.length?s("div",[s("div",{staticClass:"product-list"},[t._l(t.products,function(e){return s("div",{key:e.id},[s("div",{staticClass:"product-item",on:{click:function(s){t.select(e)}}},[s("img",{staticClass:"product-image",attrs:{alt:e.title,src:"http://image.tmdb.org/t/p/w154"+e.coverUrl}}),t._v(" "),s("div",{staticClass:"product-title"},[t._v(t._s(e.title))])])])}),t._v(" "),s("div",{staticClass:"list-bottom-container"},[s("button",{ref:"bottom",staticClass:"list-bottom",on:{click:function(e){t.getNextResultPages(2)}}},[t._v("Afficher la suite...")])])],2)]):s("div")])},staticRenderFns:[]};var x=s("VU/8")(T,y,!1,function(t){s("wU1l")},"data-v-9c7deae2",null).exports;i.a.use(a.b);var O={name:"video-player-modal",computed:r()({},Object(a.d)("products",["isPlaying","getSelected"])),methods:r()({},Object(a.c)("products",["toggleIsPlaying"]))},F={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.isPlaying&&null!==t.getSelected?s("div",[s("video",{staticClass:"video-player",attrs:{id:"myvideo",width:"100%",height:"auto",controls:""},on:{click:t.toggleIsPlaying}},[s("source",{attrs:{src:t.getSelected.hdUrl,type:"video/mp4"}})]),t._v(" "),s("div",{staticClass:"close-button",on:{click:t.toggleIsPlaying}},[t._v("fermer")]),t._v(" "),s("div",{staticClass:"video-player-background"})]):t._e()},staticRenderFns:[]};var L=s("VU/8")(O,F,!1,function(t){s("YhZD")},"data-v-1b47df22",null).exports;i.a.use(a.b);var N={name:"header-layout",computed:r()({},Object(a.d)("auth",["user"])),watch:{user:function(t){this.firstName=t.firstName,this.lastName=t.lastName}},methods:r()({},Object(a.c)("auth",["resetUser","resetToken"]),{doLogout:function(){this.resetToken(),this.resetUser()}})},j={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header-container"},[s("router-link",{attrs:{to:"/products"}},[s("div",{staticClass:"logo",on:{click:function(e){t.flushProduct()}}},[t._v("Flexiflex")])]),t._v(" "),s("div",{staticClass:"buttonContainer"},[null!=t.user?s("router-link",{staticClass:"button",attrs:{to:"auth/user-account"}},[t._v("Compte "+t._s(t.user.firstName)+" "+t._s(t.user.lastName))]):t._e(),t._v(" "),s("button",{staticClass:"button",on:{click:t.doLogout}},[t._v("Déconnexion")])],1)],1)},staticRenderFns:[]};var I=s("VU/8")(N,j,!1,function(t){s("SZ0f")},"data-v-610634c6",null).exports,z=s("8+8L");i.a.use(z.a),i.a.use(a.b);var $={name:"search-bar",props:["isAdmin"],data:function(){return{hdUrl:null,sdUrl:"bouchon",sourceUrl:null,isTyping:!1,isFlexiSearch:!0,input:"",page:1}},created:function(){this.requestProducts()},watch:{isTyping:function(t,e){!1===e&&t!==e&&this.search()},input:function(t){t.length>0&&(this.isTyping=!0,setTimeout(function(){this.isTyping=!1}.bind(this),500))}},computed:r()({},Object(a.d)("products",["products","getResults","getSelected"])),methods:r()({},Object(a.c)("products",["addProduct","setProducts","flushProduct","requestProducts","selectProduct","unSelectProduct","setSearchParams","getNextResultPages","createProduct"]),{saveProduct:function(){null!==this.sourceUrl&&null!==this.hdUrl&&null!==this.sdUrl&&this.createProduct({hdUrl:this.hdUrl,sdUrl:this.sdUrl,sourceFileUrl:this.sourceUrl,coverUrl:this.getSelected.coverUrl,title:this.getSelected.title,synopsis:this.getSelected.synopsis})},deleteProduct:function(){alert(["Savez vous au moins ce que vous faites?","Pas sur que ce soit possible...","En êtes vous bien sur?"][Math.floor(3*Math.random())])},search:function(){this.isFlexiSearch?(this.unSelectProduct(),this.setProducts(null),this.requestProducts()):(this.unSelectProduct(),this.setProducts(null),this.setSearchParams({media:"movie",input:this.input}),this.getNextResultPages(3))}})},G={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"search-input-container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.input,expression:"input"}],staticClass:"form-input search-input",attrs:{id:"search-input",name:"research",placeholder:"Rechercher votre film ici..."},domProps:{value:t.input},on:{input:function(e){e.target.composing||(t.input=e.target.value)}}}),t._v(" "),t.isFlexiSearch?t._e():s("div",{staticClass:"url_inputs"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.hdUrl,expression:"hdUrl"}],staticClass:"form-input search-input",attrs:{name:"hdUrl",placeholder:"Lien vers le fichier .mp4",required:""},domProps:{value:t.hdUrl},on:{input:function(e){e.target.composing||(t.hdUrl=e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.sdUrl,expression:"sdUrl"}],staticClass:"form-input search-input",attrs:{name:"hdUrl",value:"SD mp4 url",placeholder:"",hidden:""},domProps:{value:t.sdUrl},on:{input:function(e){e.target.composing||(t.sdUrl=e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.sourceUrl,expression:"sourceUrl"}],staticClass:"form-input search-input",attrs:{name:"hdUrl",placeholder:"Lien vers le fichier source",required:""},domProps:{value:t.sourceUrl},on:{input:function(e){e.target.composing||(t.sourceUrl=e.target.value)}}}),t._v(" "),s("div",{staticClass:"buttonPlace"},[s("button",{staticClass:"form-button box-checked-button",class:{send_button_invalid:null===t.hdUrl||null===t.sdUrl||null===t.sourceUrl},on:{click:t.saveProduct}},[t._v("Ajouter")]),t._v(" "),s("button",{staticClass:"form-button-delete box-checked-button",on:{click:function(e){t.deleteProduct()}}},[t._v("Supprimer")])])]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.isFlexiSearch,expression:"isFlexiSearch"}],staticClass:"checkbox",attrs:{type:"checkbox",id:"checkbox"},domProps:{checked:Array.isArray(t.isFlexiSearch)?t._i(t.isFlexiSearch,null)>-1:t.isFlexiSearch},on:{change:function(e){var s=t.isFlexiSearch,i=e.target,n=!!i.checked;if(Array.isArray(s)){var r=t._i(s,null);i.checked?r<0&&(t.isFlexiSearch=s.concat([null])):r>-1&&(t.isFlexiSearch=s.slice(0,r).concat(s.slice(r+1)))}else t.isFlexiSearch=n}}}),t._v(" "),s("div",{on:{click:function(e){t.search()}}},[s("i",{staticClass:"fab fa-searchengin loupe"})])])},staticRenderFns:[]};var D=s("VU/8")($,G,!1,function(t){s("0lRW")},"data-v-13706688",null).exports;i.a.use(a.b);var V={name:"home-layout",data:function(){return{admin:!1,email:"",products:null,colorRingLoader:"#2c3e50",sizeRingLoader:"200px"}},computed:r()({},Object(a.d)("auth",["token","user","userRequestFail"])),components:{SearchBar:D,FooterLayout:u,RingLoader:b,Products:x,ProductDetailComponent:P,VideoPlayerModal:L,headerLayout:I,footerLayout:u},created:function(){null===this.user&&this.request(),null===this.token&&this.$router.push({name:"login-page"}),this.$router.push("products")},methods:r()({},Object(a.c)("auth",["requestUser","resetUser","resetToken","setAuthHeaderFromCookie","logout"]),{request:function(){this.requestUser()},doLogout:function(){this.resetToken(),this.resetUser()},inArray:function(t,e){for(var s=e.length,i=0;i<s;i++)if(e[i]===t)return!0;return!1}}),watch:{user:function(t){this.inArray("ROLE_ADMIN",t.authorities)?this.isAdmin=!0:this.isAdmin=!1}}},q={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"home-container"},[e("header-layout"),this._v(" "),e("div",{staticClass:"body-content"},[e("search-bar",{attrs:{isAdmin:this.admin}}),this._v(" "),e("product-detail-component"),this._v(" "),e("products"),this._v(" "),e("video-player-modal")],1),this._v(" "),e("footer-layout")],1)},staticRenderFns:[]};var M=s("VU/8")(V,q,!1,function(t){s("cwz/")},"data-v-6ff59b32",null).exports;i.a.use(a.b);var Q={name:"final-register-page",data:function(){return{prenom:"",nom:"",email:"",birthdate:"",colorRingLoader:"#2c3e50",sizeRingLoader:"120px",isActivated:!1,hasError:!1,errorMessage:""}},components:{RingLoader:b},created:function(){this.activate()},computed:r()({},Object(a.d)("auth",["user"])),methods:r()({},Object(a.c)("auth",["updateUser"]),{submit:function(){this.updateUser({login:this.email,firstName:this.firstName,lastName:this.lastName})},activate:function(){var t=this;console.log(this.$route.params.activationKey),i.a.http.get("api/custom/activate?key="+this.$route.params.activationKey,{headers:{"Access-Control-Allow-Origin":"*",Accept:"application/json"}}).then(function(e){200===e.status?t.isActivated=!0:(t.hasError=!0,t.errorMessage=e.body.title)},function(e){t.hasError=!0,t.errorMessage=e.body.title})}})},H={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.hasError||t.isActivated?t._e():s("div",[t._v("Activation de votre compte...")]),t._v(" "),t.hasError?s("div",[t._v("Erreur d'activation: "+t._s(t.errorMessage))]):t._e(),t._v(" "),t.isActivated?s("div",[t._v("Votre compte est maintenant actif..."),s("router-link",{attrs:{to:"/auth/login"}},[t._v("Login!")])],1):t._e(),t._v(" "),s("div",{staticClass:"form-component"},[t.hasError||t.isActivated?t._e():s("div",{staticClass:"center"},[s("ring-loader",{attrs:{color:t.colorRingLoader,size:t.sizeRingLoader}})],1)])])},staticRenderFns:[]};var B=s("VU/8")(Q,H,!1,function(t){s("h/CP")},"data-v-7e474f1b",null).exports;i.a.use(a.b);var K={name:"user-account",data:function(){return{email:"",colorRingLoader:"#2c3e50",sizeRingLoader:"200px"}},computed:r()({},Object(a.d)("auth",["token","user","userRequestFail"])),components:{RingLoader:b,headerLayout:I},created:function(){null===this.user&&this.request()},methods:r()({},Object(a.c)("auth",["requestUser","resetUser","resetToken","setAuthHeaderFromCookie","logout","deleteUser","updateUser"]),{request:function(){this.requestUser()},submit:function(){this.updateUser({login:this.user.email,firstName:this.user.firstName,lastName:this.user.lastName})},deleteUserNow:function(){this.deleteUser(this.user.email)},doLogout:function(){this.resetToken(),this.resetUser()}})},Y={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"user-account-container"},[s("div",[s("h2",{staticClass:"form-title"},[t._v("Modifier votre profil")]),t._v(" "),s("form",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.firstName,expression:"user.firstName"}],staticClass:"form-input",class:{invalidClass:""===t.user.firstName},attrs:{id:"prenom",type:"text",name:"prenom",placeholder:"Prénom",maxlength:"50"},domProps:{value:t.user.firstName},on:{input:function(e){e.target.composing||t.$set(t.user,"firstName",e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"form-input",attrs:{id:"email",type:"text",placeholder:"Email",disabled:""},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.lastName,expression:"user.lastName"}],staticClass:"form-input",class:{invalidClass:""===t.user.lastName},attrs:{id:"nom",type:"text",name:"nom",placeholder:"Nom",maxlength:"50"},domProps:{value:t.user.lastName},on:{input:function(e){e.target.composing||t.$set(t.user,"lastName",e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.birthdate,expression:"user.birthdate"}],staticClass:"form-input",attrs:{id:"birthdate",type:"text",placeholder:"Date de naissance",disabled:""},domProps:{value:t.user.birthdate},on:{input:function(e){e.target.composing||t.$set(t.user,"birthdate",e.target.value)}}})]),t._v(" "),s("button",{staticClass:"form-button",class:{"form-button-disabled":""===t.user.firstName||""===t.user.lastName},on:{click:t.submit}},[t._v("Modifier Compte")]),t._v(" "),s("button",{staticClass:"form-button-delete",on:{click:t.deleteUserNow}},[t._v("Supprimer Compte")])]),t._v(" "),s("router-link",{staticClass:"form-button return-link",attrs:{to:"/"}},[t._v("Retour")])],1)},staticRenderFns:[]};var W=s("VU/8")(K,Y,!1,function(t){s("GQjx")},"data-v-478752ef",null).exports;i.a.use(v.a);var Z,X=new v.a({mode:"history",routes:[{path:"/",name:"home-layout",component:M,children:[{path:"/products",name:"products",component:x}]},{path:"/auth",name:"connection-layout",component:p,children:[{path:"login",name:"login-page",component:S},{path:"register",name:"register-page",component:A},{path:"final-register/:activationKey",name:"final-register-page",component:B},{path:"user-account",name:"user-account",component:W},{path:"/auth/*",component:S,name:"login"}]},{path:"/*",component:M,name:"default"}]}),J=s("bOdI"),tt=s.n(J),et=s("ppUw"),st=s.n(et);i.a.use(st.a);var it,nt,rt,at={state:{userRequestFail:!1,user:null},getters:{user:function(t){return t.user},userRequestFail:function(t){return t.user}},mutations:(Z={},tt()(Z,"USER_REQUEST",function(t,e){t.user=e.body,t.userRequestFail=!1}),tt()(Z,"RESET_USER",function(t){t.user=null}),tt()(Z,"USER_REQUEST_FAIL",function(t){t.userRequestFail=!0}),Z),actions:{requestUser:function(t){var e=t.commit;i.a.http.get("api/account",{headers:{"Access-Control-Allow-Origin":"*",Accept:"application/json",Authorization:"Bearer "+window.$cookies.get("Authorization")}}).then(function(t){200===t.status?e("USER_REQUEST",t):e("USER_REQUEST_FAIL")},function(t){e("USER_REQUEST_FAIL")})},resetUser:function(t){(0,t.commit)("RESET_USER")},updateUser:function(t,e){var s=t.commit,n=e.login,r=e.firstName,a=e.lastName;i.a.http.post("api/custom/delete",{login:n,firstName:r,lastName:a},{headers:{"Access-Control-Allow-Origin":"*",Accept:"application/json",Authorization:"Bearer "+window.$cookies.get("Authorization")}}).then(function(t){200===t.status?(s("USER_REQUEST",t),alert("Votre comte à été modifié!")):(alert("erreur"),s("USER_REQUEST_FAIL"))},function(t){alert("erreur"),s("USER_REQUEST_FAIL")})},deleteUser:function(t,e){var s=t.commit;i.a.http.delete("api/users/"+e+"'",{login:e},{headers:{"Access-Control-Allow-Origin":"*",Accept:"application/json",Authorization:"Bearer "+window.$cookies.get("Authorization")}}).then(function(t){200===t.status?s("USER_REQUEST",t):s("USER_REQUEST_FAIL")},function(t){s("USER_REQUEST_FAIL")})}}},ot={state:{page:1,totalPages:0,tmdbParams:null,hasError:!1,results:null},getters:{getParams:function(t){return t.tmdbParams},getPage:function(t){return t.tmdbParams},getTotalPages:function(t){return t.totalPages},getResults:function(t){return t.results}},mutations:(it={},tt()(it,"SET_PARAMS",function(t,e){t.tmdbParams=e}),tt()(it,"INC_PAGE",function(t,e){t.page+=e}),tt()(it,"SET_TOTAL_PAGES",function(t,e){t.totalPages=e}),tt()(it,"RESET_SEARCH_PARAMS",function(t){t.tmdbParams=null,t.totalPages=0,t.page=0,t.results=null}),tt()(it,"GET_NEXT_PAGE",function(t){t.page++,t.hasError=!1,i.a.http.options.credentials=!1,i.a.http.post("http://api.themoviedb.org/3/search/"+t.tmdbParams.media+"?api_key=b9e5550676ff70a2c33461f55fac000c&query="+t.tmdbParams.input+"&language=fr&page="+t.page,{headers:{"Access-Control-Allow-Origin":"*"}}).then(function(e){e.body.results.forEach(function(e){null!==e.poster_path&&setTimeout(function(){t.results={title:e.title,coverUrl:e.poster_path,synopsis:e.overview,isTmdb:!0}},200)})},function(e){setTimeout(function(){t.hasError=!0},2e3)})}),it),actions:{getNextResultPages:function(t,e){for(var s=t.commit,i=0;i<e;i++)s("GET_NEXT_PAGE")},setSearchParams:function(t,e){var s=t.commit;s("RESET_SEARCH_PARAMS"),s("SET_PARAMS",e)}}},ct={namespaced:!0,state:{productRequestFail:!1,product:null,selected:null,isPlaying:!1},getters:{getProducts:function(t){return t.product},productRequestFail:function(t){return t.product},getSelected:function(t){return t.selected},isPlaying:function(t){return t.isPlaying}},mutations:(nt={},tt()(nt,"PRODUCT_REQUEST",function(t,e){t.product=e}),tt()(nt,"PRODUCT_PUSH",function(t,e){t.product=e}),tt()(nt,"RESET_PRODUCT",function(t){t.product=null}),tt()(nt,"PRODUCT_REQUEST_FAIL",function(t){t.productRequestFail=!0}),tt()(nt,"SELECT_A_PRODUCT",function(t,e){t.selected=e}),tt()(nt,"UNSELECT_A_PRODUCT",function(t){t.selected=null}),tt()(nt,"TOGGLE_IS_PLAYING",function(t){t.isPlaying=!t.isPlaying}),nt),actions:{addProduct:function(t,e){(0,t.commit)("PRODUCT_PUSH",e)},setProducts:function(t,e){(0,t.commit)("PRODUCT_REQUEST",e)},flushProduct:function(t){(0,t.commit)("PRODUCT_REQUEST",[])},toggleIsPlaying:function(t){(0,t.commit)("TOGGLE_IS_PLAYING")},selectProduct:function(t,e){(0,t.commit)("SELECT_A_PRODUCT",e)},unSelectProduct:function(t){(0,t.commit)("UNSELECT_A_PRODUCT")},resetProducts:function(t){(0,t.commit)("RESET_PRODUCT")},requestProducts:function(t){var e=t.commit;e("UNSELECT_A_PRODUCT"),i.a.http.options.credentials=!1,i.a.http.get("api/products",{headers:{"Access-Control-Allow-Origin":"*",Accept:"application/json",Authorization:"Bearer "+window.$cookies.get("Authorization")}}).then(function(t){t.body.forEach(function(t){setTimeout(function(){e("PRODUCT_PUSH",t)}.bind(e),200)})},function(t){console.log(t)}),e("RESET_PRODUCT",null)},createProduct:function(t,e){var s=t.commit;console.log(e),i.a.http.options.credentials=!1,i.a.http.post("api/products",e,{headers:{"Access-Control-Allow-Origin":"*",Accept:"application/json",Authorization:"Bearer "+window.$cookies.get("Authorization")}}).then(function(t){201===t.status?(t.isTmdb=!1,alert("Votre contenu à bien été enregistré ;)"),s("SELECT_A_PRODUCT",t)):alert("Erreur!")},function(t){alert("Erreur!")})}},modules:{search:ot}};i.a.use(st.a);var ut={namespaced:!0,state:{isAuthenticating:!1,isAuthenticated:!1,hasAuthenticationError:!1,isRegistering:!1,isRegistered:!1,hasRegistrationError:!1,hasCookie:null,token:window.$cookies.get("token")},getters:{isAuthenticating:function(t){return t.isAuthenticating},isAuthenticated:function(t){return t.isAuthenticated},hasAuthenticationError:function(t){return t.hasAuthenticationError},isRegistered:function(t){return t.isRegistered},isRegistering:function(t){return t.isRegistering},hasRegistrationError:function(t){return t.hasRegistrationError},hasCookie:function(t){return t.hasCookie},token:function(t){return t.token},uuid:function(t){return t.uuid}},mutations:(rt={},tt()(rt,"LOGIN_REQUEST",function(t){t.isAuthenticating=!0,t.isAuthenticated=!1,t.hasAuthenticationError=!1}),tt()(rt,"LOGIN_SUCCESS",function(t){t.isAuthenticating=!1,t.isAuthenticated=!0,t.hasAuthenticationError=!1}),tt()(rt,"LOGIN_FAIL",function(t){t.isAuthenticating=!1,t.isAuthenticated=!1,t.hasAuthenticationError=!0}),tt()(rt,"REGISTER_REQUEST",function(t){t.isRegistering=!0,t.isRegistered=!1,t.hasRegistrationError=!1}),tt()(rt,"REGISTER_SUCCESS",function(t){t.isRegistering=!1,t.isRegistered=!0,t.hasRegistrationError=!1}),tt()(rt,"REGISTER_FAIL",function(t){t.isRegistering=!1,t.isRegistered=!1,t.hasRegistrationError=!0}),tt()(rt,"LOGOUT_REQUEST",function(t){}),tt()(rt,"LOGOUT_SUCCESS",function(t){t.isAuthenticated=!1}),tt()(rt,"LOGOUT_FAIL",function(t){}),tt()(rt,"SET_USER_TOKEN",function(t,e){window.$cookies.set("Authorization",e.id_token),t.token=e.token,t.hasCookie=!0}),tt()(rt,"RESET_USER_TOKEN",function(t){window.$cookies.remove("Authorization"),t.token=null,t.uuid=null,t.hasCookie=!1}),tt()(rt,"RESET_ERRORS",function(t){t.hasAuthenticationError=!1,t.hasRegistrationError=!1}),rt),actions:{login:function(t,e){var s=t.commit,n=e.username,r=e.password;s("LOGIN_REQUEST"),i.a.http.post("api/authenticate",{password:r,rememberMe:!0,username:n,email:n},{headers:{"Access-Control-Allow-Origin":"*",Accept:"application/json"}}).then(function(t){t.ok?(s("LOGIN_SUCCESS"),s("SET_USER_TOKEN",t.body)):s("LOGIN_FAIL")},function(t){s("LOGIN_FAIL")})},register:function(t,e){var s=t.commit,n=e.email,r=e.password,a=e.birthdate;s("REGISTER_REQUEST"),i.a.http.post("api/custom/register",{login:n,email:n,password:r,birthDate:a},{headers:{"Access-Control-Allow-Origin":"*",Accept:"application/json"}}).then(function(t){201===t.status?s("REGISTER_SUCCESS"):s("REGISTER_FAIL")},function(t){s("REGISTER_FAIL")})},resetToken:function(t){(0,t.commit)("RESET_USER_TOKEN")},logout:function(t){var e=t.commit;t.dispatch;e("LOGOUT_REQUEST"),i.a.http.post("logout").then(function(t){e("RESET_USER_TOKEN"),e("LOGOUT_SUCCESS")},function(t){e("LOGOUT_FAIL")})},reset:function(t){var e=t.commit;t.dispatch;e("RESET_USER_TOKEN"),e("LOGOUT_SUCCESS")},resetErrors:function(t){(0,t.commit)("RESET_ERRORS")},setAuthHeader:function(t,e,s){t.commit;i.a.http.headers.put.Authorization=s},setAuthHeaderFromCookie:function(){i.a.http.headers.put.Authorization=window.$cookies.get("Authorization")},setTokenFromCookie:function(t){var e=t.commit;null!==window.$cookies.get("Authorization")&&e("SET_USER_TOKEN",{id_token:window.$cookies.get("Authorization")})}},modules:{user:at,products:ct}};i.a.use(a.b);var lt=new a.a({modules:{auth:ut,products:ct}});i.a.use(z.a);i.a.http.options.root="http://62.210.148.177:9090/",i.a.config.productionTip=!1,new i.a({el:"#app",router:X,store:lt,components:{App:g},template:"<App/>"})},SZ0f:function(t,e){},TR8l:function(t,e){},Vb00:function(t,e){},WRcF:function(t,e,s){var i={"./background-splash-medium-1.jpg":"bYGn","./background-splash-medium-2.jpg":"+G/c","./background-splash-medium-3.jpg":"6DcS","./background-splash-medium-4.jpg":"61sc","./background-splash-medium-5.jpg":"1dI8","./background-splash-medium-6.jpg":"iB/6","./background-splash-medium-7.jpg":"yeIw"};function n(t){return s(r(t))}function r(t){var e=i[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}n.keys=function(){return Object.keys(i)},n.resolve=r,t.exports=n,n.id="WRcF"},YhZD:function(t,e){},bYGn:function(t,e,s){t.exports=s.p+"static/img/background-splash-medium-1.85df8f0.jpg"},c6iF:function(t,e){},"cwz/":function(t,e){},"h/CP":function(t,e){},"hKQ/":function(t,e,s){t.exports=s.p+"static/img/background-splash-2.47fc5cb.jpg"},"iB/6":function(t,e,s){t.exports=s.p+"static/img/background-splash-medium-6.5af208b.jpg"},"p6U+":function(t,e,s){t.exports=s.p+"static/img/background-splash-4.69ae481.jpg"},wU1l:function(t,e){},yMF7:function(t,e,s){t.exports=s.p+"static/img/background-splash-1.8d3cf36.jpg"},yeIw:function(t,e,s){t.exports=s.p+"static/img/background-splash-medium-7.e49d045.jpg"}},["NHnr"]);
//# sourceMappingURL=app.890236c6ac6dfc7347fc.js.map